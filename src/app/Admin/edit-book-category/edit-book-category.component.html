<div class="container">
  <app-navbar></app-navbar>
  <div class="dashboard-container">
    <h5>Books &amp; Categories</h5>
    <div class="admin-dashboard">
      <div class="admin-book-list">
        <div class="book-list-header">
          <h6>Books :</h6>
          <img
            src="../../../assets/add-book.svg"
            routerLink="/admin/add-book"
          />
        </div>

        <!-- Book Column Headers -->
        <div class="book-list-column-headers">
          <div class="header-item">ID</div>
          <div class="header-item">Title</div>
          <div class="header-item">Author</div>
          <div class="header-item">Actions</div>
        </div>

        <!-- Book List -->
        <div *ngFor="let book of books" class="book">
          <p class="user-data">{{ book.id }}</p>
          <p class="user-data">{{ book.titre }}</p>
          <p class="user-data">{{ book.auteur }}</p>

          <div class="book-action">
            <img
              src="../../../assets/edit.svg"
              routerLink="/admin/edit-book"
              width="20px"
            />
            <img
              src="../../../assets/delete.svg"
              (click)="onDeleteBook(book.id)"
              width="20px"
            />
          </div>
        </div>
      </div>

      <div class="divider"></div>

      <div class="admin-category-list">
        <div class="category-list-header">
          <h6>Categories :</h6>
          <img src="../../../assets/add-book.svg" (click)="toggleModal()" />
        </div>

        <!-- Category Column Headers -->
        <div class="category-list-column-headers">
          <div class="header-item">ID</div>
          <div class="header-item">Name</div>
          <div class="header-item">Actions</div>
        </div>

        <!-- Category List -->
        <div *ngFor="let category of categories" class="category">
          <p class="user-data">{{ category.id }}</p>
          <p class="user-data">{{ category.nom }}</p>

          <div class="category-action">
            <img
              src="../../../assets/edit.svg"
              width="20px"
              (click)="toggleEditModal(category)"
            />
            <img
              src="../../../assets/delete.svg"
              width="20px"
              (click)="onDeleteCategory(category.id)"
            />
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="modal" [class.show-modal]="showModal">
    <div class="modal-content">
      <div class="modal-header">
        <h5>Add Category</h5>
        <span class="close-button" (click)="toggleModal()">&times;</span>
      </div>
      <div class="modal-body">
        <label for="category-name">Category Name:</label>
        <input type="text" id="category-name" [(ngModel)]="newCategoryName" />
      </div>
      <div class="modal-footer">
        <button (click)="addCategory()">Add</button>
        <button (click)="toggleModal()">Cancel</button>
      </div>
    </div>
  </div>
  <div class="modal" [class.show-modal]="showEditModal">
    <div class="modal-content">
      <div class="modal-header">
        <h5>Edit Category</h5>
        <span class="close-button" (click)="toggleEditModal(null)"
          >&times;</span
        >
      </div>
      <div class="modal-body">
        <label for="edit-category-name">Category Name:</label>
        <input
          type="text"
          id="edit-category-name"
          [(ngModel)]="editingCategoryName"
        />
      </div>
      <div class="modal-footer">
        <button (click)="updateCategory()">Save</button>
        <button (click)="toggleEditModal(null)">Cancel</button>
      </div>
    </div>
  </div>
</div>
