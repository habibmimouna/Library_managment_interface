<div class="container">
  <app-navbar></app-navbar>
  <div class="dashboard-container">
    <div class="add-book-header">
      <div class="back-button" (click)="backfunction()">
        <img src="../../../assets/back-arrow.svg" />
        <div class="back">Back</div>
      </div>
      <h5>Add a book !</h5>
    </div>
    <form (ngSubmit)="onSubmit()">
      <div class="admin-dashboard">
        <div class="input-section">
          <div class="input-group">
            <label for="book-title">Title</label>
            <input
              type="text"
              id="book-title"
              [(ngModel)]="book.titre"
              name="title"
            />
          </div>
          <div class="input-group">
            <label for="book-author">Author</label>
            <input
              type="text"
              id="book-author"
              [(ngModel)]="book.auteur"
              name="author"
            />
          </div>
        </div>
        <div class="input-section">
          <div class="input-group">
            <label for="book-publication-date">Publication Date</label>
            <input
              type="date"
              id="book-publication-date"
              [(ngModel)]="book.datePublication"
              name="publicationDate"
            />
          </div>
          <div class="input-group">
            <label for="book-isbn">ISBN</label>
            <input
              type="text"
              id="book-isbn"
              [(ngModel)]="book.isbn"
              name="isbn"
            />
          </div>
        </div>
        <div class="input-section">
          <div>
            <label for="book-category">Category</label>
            <select
              id="book-category"
              [(ngModel)]="book.categoryId"
              name="categoryId"
              class="category-select"
            >
              <option value="" disabled selected>Select Category</option>
              <option *ngFor="let category of categories" [value]="category.id">
                {{ category.nom }}
              </option>
            </select>
          </div>
          <div class="input-img">
            <label for="book-img">Image</label>
            <input
              type="file"
              id="book-img"
              [(ngModel)]="book.img"
              name="img"
              accept="image/png, image/jpeg" 
              (change)="onFileChange($event)"
            />
          </div>
        </div>
      </div>
      <div class="submit-button-container">
        <button type="submit">Submit</button>
      </div>
    </form>
  </div>
</div>
